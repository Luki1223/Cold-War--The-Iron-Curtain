scripted_gui = {
	regional_topbar = {
		context_type = selected_country_context
		parent_window_token = selected_country_view_diplomacy
		
		window_name = "regional_counter"
		
		visible = {
			OR = {
				has_idea = great_power
				AND = {
					OR = {
						tag = EGY
						tag = LEB
						tag = ISR
						tag = SYR
						tag = SAU
						tag = DRY
						tag = YEM
						tag = PER
						tag = TUR
						tag = OMA
						tag = KUR
						tag = SUD
						tag = LBA
						tag = KUW
						tag = UAE
						tag = QAT
						tag = PAL
						tag = NCY
						tag = JDZ
						tag = IRQ
					}
					ROOT = {
						OR = {
							tag = EGY
							tag = LEB
							tag = ISR
							tag = SYR
							tag = SAU
							tag = DRY
							tag = YEM
							tag = PER
							tag = TUR
							tag = OMA
							tag = KUR
							tag = SUD
							tag = LBA
							tag = KUW
							tag = UAE
							tag = QAT
							tag = PAL
							tag = NCY
							tag = JDZ
							tag = IRQ
						}					
					}
				}
				AND = {
					OR = {
						tag = MOR
						tag = TUN
						tag = ALG
						tag = EGY
						tag = LBA
						tag = TNG
						tag = RIF
					}
					ROOT = {
						OR = {
							tag = MOR
							tag = TUN
							tag = ALG
							tag = EGY
							tag = LBA
							tag = TNG
							tag = RIF
						}				
					}
				}
				AND = {
					OR = {
						tag = NOR
						tag = DEN
						tag = FIN
						tag = SWE
						tag = ICE
						tag = JNM
						tag = GRN
						tag = SKL
						tag = VGD
						tag = SMI
					}					
					ROOT = {
						OR = {
							tag = NOR
							tag = DEN
							tag = FIN
							tag = SWE
							tag = ICE
							tag = JNM
							tag = GRN
							tag = SKL
							tag = VGD
							tag = SMI
						}
					}
				}
				AND = {
					OR = {
						tag = ARG
						tag = BOL
						tag = BRA
						tag = CHL
						tag = COL
						tag = COS
						tag = ECU
						tag = ELS
						tag = GUA
						tag = HON
						tag = PRU
						tag = URG
						tag = VEN
						tag = MEX
						tag = NIC
						tag = PAN
						tag = GUY
						tag = PAR
						tag = BLZ
						tag = BAD
						tag = CAB
						tag = SVI			
						tag = GND	
						tag = DMN
					}
					ROOT = {
						OR = {
							tag = ARG
							tag = BOL
							tag = BRA
							tag = CHL
							tag = COL
							tag = COS
							tag = ECU
							tag = ELS
							tag = GUA
							tag = HON
							tag = PRU
							tag = URG
							tag = VEN
							tag = MEX
							tag = NIC
							tag = PAN
							tag = GUY
							tag = PAR
							tag = BLZ
							tag = BAD
							tag = CAB
							tag = SVI
							tag = GND
							tag = DMN
						}
					}
				}
				AND = {
					OR = {
							tag = BOS
							tag = YUG
							tag = SER
							tag = SPR
							tag = ITA
							tag = TUR
							tag = GRE
							tag = ALB
							tag = POR
							tag = PDG
							tag = MLT
							tag = VOJ
							tag = SRP
							tag = CYP
							tag = CRO
							tag = MNT
							tag = VTC
							tag = SNM
							tag = MOC
							tag = ADS
							tag = CTL
							tag = MAC
							tag = AND
							tag = TRI
							tag = SLV
							tag = KOS
							tag = PMR
							tag = NCY
						}
					ROOT = {
						OR = {
							tag = BOS
							tag = YUG
							tag = SER
							tag = SPR
							tag = ITA
							tag = TUR
							tag = GRE
							tag = ALB
							tag = POR
							tag = PDG
							tag = MLT
							tag = VOJ
							tag = SRP
							tag = CYP
							tag = CRO
							tag = MNT
							tag = VTC
							tag = SNM
							tag = MOC
							tag = ADS
							tag = CTL
							tag = MAC
							tag = AND
							tag = TRI
							tag = SLV
							tag = KOS
							tag = PMR
							tag = NCY
						}
					}
				}
				AND = {
					OR = {
							tag = CAN
							tag = USA
							tag = CAL
							tag = CSA
							tag = RNA
							tag = NFL
							tag = QBC
							tag = TEX
							tag = LKT
							tag = CSD					
					}
					ROOT = {
						OR = {
							tag = CAN
							tag = USA
							tag = CAL
							tag = CSA
							tag = RNA
							tag = NFL
							tag = QBC
							tag = TEX
							tag = LKT
							tag = CSD
						}
					}
				}
				AND = {
					OR = {
							tag = ENG
							tag = FRA
							tag = LUX
							tag = BEL
							tag = HOL
							tag = GER
							tag = AUS
							tag = SWI
							tag = IRE
							tag = FCB
							tag = WGR
							tag = BAV
							tag = SAR
							tag = LIC
							tag = AGN					
					}
					ROOT = {
						OR = {
							tag = ENG
							tag = FRA
							tag = LUX
							tag = BEL
							tag = HOL
							tag = GER
							tag = AUS
							tag = SWI
							tag = IRE
							tag = FCB
							tag = WGR
							tag = BAV
							tag = SAR
							tag = LIC
							tag = AGN
						}
					}
				}
				AND = {
						OR = {
							tag = LIT
							tag = EST
							tag = LAT
							tag = SOV
							tag = UKR
							tag = BLR
							tag = CZE
							tag = POL
							tag = ROM
							tag = BUL
							tag = HUN
							tag = DDR
							tag = SLO
							tag = GEO
							tag = AZR
							tag = ARM
							tag = NGK
							tag = MLD
							tag = SOS
							tag = ABK
							tag = CHE
							tag = ADR
							tag = KRL
							tag = GAG
						}
					ROOT = {
						OR = {
							tag = LIT
							tag = EST
							tag = LAT
							tag = SOV
							tag = UKR
							tag = BLR
							tag = CZE
							tag = POL
							tag = ROM
							tag = BUL
							tag = HUN
							tag = DDR
							tag = SLO
							tag = GEO
							tag = AZR
							tag = ARM
							tag = NGK
							tag = MLD
							tag = SOS
							tag = ABK
							tag = CHE
							tag = ADR
							tag = KRL
							tag = GAG
						}
					}
				}
				AND = {
						OR = {
							tag = AFG
							tag = BHU
							tag = RAJ
							tag = PER
							tag = PAK
							tag = NEP
							tag = SLK
							tag = BAL
							tag = BAN
							tag = ASA
							tag = KHA
							tag = KAS
							tag = SKK
						}
					ROOT = {
						OR = {
							tag = AFG
							tag = BHU
							tag = RAJ
							tag = PER
							tag = PAK
							tag = NEP
							tag = SLK
							tag = BAL
							tag = BAN
							tag = ASA
							tag = KHA
							tag = KAS
							tag = SKK
						}
					}
				}
				AND = {
					OR = {
							tag = ETH
							tag = SUD
							tag = SOR
							tag = UGA
							tag = ZIM
							tag = MZB
							tag = ZAM
							tag = TAZ
							tag = MAD
							tag = NYA
							tag = ERI
							tag = KEN
							tag = BSL
							tag = RWA
							tag = BUR
							tag = DJB
					}
					ROOT = {
						OR = {
							tag = ETH
							tag = SUD
							tag = SOR
							tag = UGA
							tag = ZIM
							tag = MZB
							tag = ZAM
							tag = TAZ
							tag = MAD
							tag = NYA
							tag = ERI
							tag = KEN
							tag = BSL
							tag = RWA
							tag = BUR
							tag = DJB
						}
					}
				}
				AND = {
						OR = {
							tag = MLI
							tag = NIG
							tag = BRK
							tag = GUI
							tag = MAU
							tag = TOG
							tag = BEN
							tag = SEN
							tag = CTD
							tag = SRW
							tag = GAB
							tag = GEQ
							tag = GAM
							tag = SLE
							tag = GHA
							tag = NIA
							tag = LIB
						}
					ROOT = {
						OR = {
							tag = MLI
							tag = NIG
							tag = BRK
							tag = GUI
							tag = MAU
							tag = TOG
							tag = BEN
							tag = SEN
							tag = CTD
							tag = SRW
							tag = GAB
							tag = GEQ
							tag = GAM
							tag = SLE
							tag = GHA
							tag = NIA
							tag = LIB
						}
					}
				}
				AND = {
						OR = {
							tag = CHI
							tag = TIB
							tag = JAP
							tag = KOR
							tag = MEN
							tag = SIK
							tag = YUN
							tag = MON
							tag = GXC
							tag = PRC
							tag = SHX
							tag = XSM
							tag = PHI
							tag = KPA
							tag = HOK							
							tag = TAN
							tag = MAN
						}
					ROOT = {
						OR = {
							tag = CHI
							tag = TIB
							tag = JAP
							tag = KOR
							tag = MEN
							tag = SIK
							tag = YUN
							tag = MON
							tag = GXC
							tag = PRC
							tag = SHX
							tag = XSM
							tag = PHI
							tag = KPA
							tag = HOK
							tag = TAN
							tag = MAN
						}
					}
				}
				AND = {
						OR = {
							tag = PRT
							tag = STL
							tag = JAM
							tag = TAT
							tag = CUB
							tag = DOM
							tag = HAI
							tag = VEN
							tag = MEX
							tag = COL
							tag = GUY
							tag = USA
						}
					ROOT = {
						OR = {
							tag = PRT
							tag = STL
							tag = JAM
							tag = TAT
							tag = CUB
							tag = DOM
							tag = HAI
							tag = VEN
							tag = MEX
							tag = COL
							tag = GUY
							tag = USA
						}
					}
				}
				AND = {
						OR = {
							tag = LES
							tag = SWA
							tag = ORJ
							tag = ZAR
							tag = SAF
							tag = ZIM
							tag = ANG
							tag = REN
							tag = NAM
							tag = BOT
						}
					ROOT = {
						OR = {
							tag = LES
							tag = SWA
							tag = ORJ
							tag = ZAR
							tag = SAF
							tag = ZIM
							tag = ANG
							tag = REN
							tag = NAM
							tag = BOT
						}
					}
				}
				AND = {
						OR = {
							tag = PHI
							tag = SIA
							tag = VIN
							tag = CAM
							tag = MAL
							tag = INS
							tag = LAO
							tag = CMB
							tag = MLA
							tag = INO
							tag = VIE
							tag = MYR
							tag = DAR
							tag = LAS
							tag = SMK
							tag = LOS
							tag = BRU
						}
					ROOT = {
						OR = {
							tag = PHI
							tag = SIA
							tag = VIN
							tag = CAM
							tag = MAL
							tag = INS
							tag = LAO
							tag = CMB
							tag = MLA
							tag = INO
							tag = VIE
							tag = MYR
							tag = DAR
							tag = LAS
							tag = SMK
							tag = LOS
							tag = BRU
						}
					}
				}
				AND = {
						OR = {
							tag = AST
							tag = SMO
							tag = NZL
							tag = BRT
							tag = HWI
							tag = PAP
							tag = SKS
							tag = SOL
						}
					ROOT = {
						OR = {
							tag = AST
							tag = SMO
							tag = NZL
							tag = BRT
							tag = HWI
							tag = PAP
							tag = SKS
							tag = SOL
						}
					}
				}
				AND = {
						OR = {
							tag = ROC
							tag = CAR
							tag = CMR
							tag = DOC
							tag = CHA
							tag = TOA
							tag = BFR
							tag = COG
							tag = KAG
						}					
					ROOT = {
						OR = {
							tag = ROC
							tag = CAR
							tag = CMR
							tag = DOC
							tag = CHA
							tag = TOA
							tag = BFR
							tag = COG
							tag = KAG
						}
					}
				}
				AND = {
						OR = {
							tag = KAZ
							tag = UZB
							tag = TJK
							tag = KRG
							tag = TRK
							tag = AFG
							tag = SIK
						}
					ROOT = {
						OR = {
							tag = KAZ
							tag = UZB
							tag = TJK
							tag = KRG
							tag = TRK
							tag = AFG
							tag = SIK
						}
					}
				}
			}
		}
		
		effects = {
			regional_bg_click = {
				ROOT = { set_variable = { egy_show = 1 } }
			}
		}
	}

	mid_east_regional_main_menu = {
		context_type = player_context
		
		window_name = "regional_mideast"
        
		visible = {
			check_variable = { mid_east_show = 1 }
		}
		
		effects = {
			exitbutton_mideast_click = {
				ROOT = { set_variable = { mid_east_show = 0.0 } }
			}		
			EGY_bg_click = {
				ROOT = { set_variable = { egy_show = 1 } }
			}
			LEB_bg_click = {
				set_variable = { LEB_show = 1 }
			}
			ISR_bg_click = {
				set_variable = { ISR_show = 1 }
			}
			SYR_bg_click = {
				set_variable = { SYR_show = 1 }
			}
			SAU_bg_click = {
				set_variable = { SAU_show = 1 }
			}
			DRY_bg_click = {
				set_variable = { DRY_show = 1 }
			}
			YEM_bg_click = {
				set_variable = { YEM_show = 1 }
			}
			PER_bg_click = {
				set_variable = { PER_show = 1 }
			}
			TUR_bg_click = {
				set_variable = { TUR_show = 1 }
			}
			OMA_bg_click = {
				set_variable = { OMA_show = 1 }
			}
			KUR_bg_click = {
				set_variable = { KUR_show = 1 }
			}
			SUD_bg_click = {
				set_variable = { SUD_show = 1 }
			}
			LBA_bg_click = {
				set_variable = { LBA_show = 1 }
			}
			KUW_bg_click = {
				set_variable = { KUW_show = 1 }
			}
			UAE_bg_click = {
				set_variable = { UAE_show = 1 }
			}
			QAT_bg_click = {
				set_variable = { QAT_show = 1 }
			}
			PAL_bg_click = {
				set_variable = { PAL_show = 1 }
			}
			NCY_bg_click = {
				set_variable = { NCY_show = 1 }
			}
		}
        
        
		triggers = {
			EGY_bg_click_enabled = {
				country_exists = EGY
				NOT = { ROOT = { tag = EGY } }
			}
			LEB_bg_click_enabled = {
				country_exists = LEB
				NOT = { ROOT = { tag = LEB } }
			}
			ISR_bg_click_enabled = {
				country_exists = ISR
				NOT = { ROOT = { tag = ISR } }
			}
			SYR_bg_click_enabled = {
				country_exists = SYR
				NOT = { ROOT = { tag = SYR } }
			}
			SAU_bg_click_enabled = {
				country_exists = SAU
				NOT = { ROOT = { tag = SAU } }
			}
			DRY_bg_click_enabled = {
				country_exists = DRY
				NOT = { ROOT = { tag = DRY } }
			}
			YEM_bg_click_enabled = {
				country_exists = YEM
				NOT = { ROOT = { tag = YEM } }
			}
			PER_bg_click_enabled = {
				country_exists = PER
				NOT = { ROOT = { tag = PER } }
			}
			TUR_bg_click_enabled = {
				country_exists = TUR
				NOT = { ROOT = { tag = TUR } }
			}
			OMA_bg_click_enabled = {
				country_exists = OMA
				NOT = { ROOT = { tag = OMA } }
			}
			KUR_bg_click_enabled = {
				country_exists = KUR
				NOT = { ROOT = { tag = KUR } }
			}
			SUD_bg_click_enabled = {
				country_exists = SUD
				NOT = { ROOT = { tag = SUD } }
			}
			LBA_bg_click_enabled = {
				country_exists = LBA
				NOT = { ROOT = { tag = LBA } }
			}
			KUW_bg_click_enabled = {
				country_exists = KUW
				NOT = { ROOT = { tag = KUW } }
			}
			UAE_bg_click_enabled = {
				country_exists = UAE
				NOT = { ROOT = { tag = UAE } }
			}
			QAT_bg_click_enabled = {
				country_exists = QAT
				NOT = { ROOT = { tag = QAT } }
			}
			PAL_bg_click_enabled = {
				country_exists = PAL
				NOT = { ROOT = { tag = PAL } }
			}
			NCY_bg_click_enabled = {
				country_exists = NCY
				NOT = { ROOT = { tag = NCY } }
			}
		}
	}
	
	egypt_view = {
		context_type = selected_country_context
		#parent_window_token = selected_country_view_diplomacy
		
		window_name = "egypt_view_container"
		visible = {
			 ROOT = { check_variable = { egy_show > 0.0 } }
		}	
		effects = {
			sanction_egy_click = {
				reverse_add_opinion_modifier = { target = ROOT modifier = trade_sanctions }	
				add_political_power = -20
			}
			embargo_egy_click = {
                reverse_add_opinion_modifier = { target = ROOT modifier = trade_sanctions }	
				reverse_add_opinion_modifier = { target = ROOT modifier = totalembargo }	
				add_political_power = -20
			}
			normalize_trade_relations_egy_click = {
				ROOT = {
					remove_opinion_modifier = { target = PREV modifier = totalembargo }
					remove_opinion_modifier = { target = PREV modifier = trade_sanctions }					
				}
				add_political_power = -20
				set_variable = { egy_sanction = 0 }
			}
			invest_in_egy_economy_click = {
				country_event = { id = build_building.1 days = 50  }
				subtract_from_variable = { var = money value = 500  }
				reverse_add_opinion_modifier = { target = ROOT  modifier = sent_economic_aid }
			}
			send_egy_manpower_click = {
				add_manpower = 10000
				ROOT = { add_manpower = -10000 }
				reverse_add_opinion_modifier = { target = ROOT  modifier = sent_manpower }
			}
			send_infantry_equipment_egy_click = {
				
				add_equipment_to_stockpile = { type = infantry_equipment amount = 2000 producer = ROOT }	
				reverse_add_opinion_modifier = { target = ROOT  modifier = sent_equipment }
				ROOT = { add_equipment_to_stockpile = { type = infantry_equipment amount = -2000 } }
			}
			send_mbt_egy_click = {
				add_equipment_to_stockpile = { type = mbt_equipment amount = 200 producer = ROOT }	
				reverse_add_opinion_modifier = { target = ROOT  modifier = sent_equipment }
				ROOT = { add_equipment_to_stockpile = { type = mbt_equipment amount = -200 } }
			}
			send_fighter_equipment_egy_click = {
				add_equipment_to_stockpile = { type = jet_multirole_equipment amount = 50 producer = ROOT }	
				reverse_add_opinion_modifier = { target = ROOT  modifier = sent_equipment }
				ROOT = { add_equipment_to_stockpile = { type = jet_multirole_equipment amount = -50 } }
			}
			send_money_egy_click = {
				add_to_variable = { var = money value = 500  } 
				ROOT = { subtract_from_variable = { var = money value = 500  } }
				reverse_add_opinion_modifier = { target = ROOT  modifier = sent_money }
			}
			retake_our_cores_egy_click = {
				ROOT = { 
					set_country_flag = cultural_unification_war_aggressor
					declare_war_on = { target = PREV type = take_core_state }
				}
				set_country_flag = cultural_unification_war_defender 
			}
			liberation_war_egy_click = {
				ROOT = { 
					set_country_flag = badboy_war_attacker
					declare_war_on = { target = PREV type = liberate_wargoal }	
				}
				set_country_flag = badboy_war_defender 
				
			}
			exitbutton_egy_click = {
				ROOT = { set_variable = { egy_show = 0.0 } }
			}		
		}
        triggers = {
           sanction_egy_click_enabled = {
                NOT = {  ROOT = { has_opinion_modifier = trade_sanctions } }
				 NOT = {  ROOT = { has_opinion_modifier = totalembargo } }
                check_variable = { ROOT.political_power > 19.99 }
			}
           embargo_egy_click_enabled = {
                 NOT = {  ROOT = { has_opinion_modifier = totalembargo } }
                check_variable = { ROOT.political_power > 19.99 }
			}
           normalize_trade_relations_egy_click_enabled = {
               ROOT = { has_opinion_modifier = trade_sanctions }
                check_variable = { ROOT.political_power > 19.99 }
			}
			invest_in_egy_economy_click_enabled = {
				NOT = { has_war_with = ROOT }
				ROOT = { check_variable = { money > 499.99 } }
			}
			send_egy_manpower_click_enabled = {
				NOT = { has_war_with = ROOT }
				ROOT = { has_manpower > 10000 }
			}
			send_infantry_equipment_egy_click_enabled = {
				NOT = { has_war_with = ROOT }
				ROOT = { has_equipment = { infantry_equipment > 2000 } }
			}
			send_mbt_egy_click_enabled = {
				NOT = { has_war_with = ROOT }
				ROOT = { has_equipment = { mbt_equipment > 200 } }
			}
			send_fighter_equipment_egy_click_enabled = {
				NOT = { has_war_with = ROOT }
				ROOT = { has_equipment = { jet_multirole_equipment > 50 } }
			} 
			send_money_egy_click_enabled = {
				NOT = { has_war_with = ROOT }
				ROOT = { check_variable = { money > 499.99 } }
			}
			retake_our_cores_egy_click_enabled = {
				NOT = { 
					OR = {
						has_war_with = ROOT 
						is_subject = yes 
					}
				}	
				any_owned_state = { is_core_of = ROOT }	
			}
			liberation_war_egy_click_enabled = {
				NOT = { 
					OR = {
						has_war_with = ROOT 
						is_subject = yes 
					}
				}				
				NOT = { any_owned_state = { is_core_of = THIS } }
			}
			
			#Column 2
			send_egy_manpower_civil_war_click_enabled = {
				EGY = { has_civil_war = yes }	
				has_manpower > 10000	
			}
			send_infantry_equipment_civil_war_egy_click_enabled = {
				has_civil_war = yes 
				ROOT = { has_equipment = { infantry_equipment > 2000 } }
			}
			send_mbt_egy_civil_war_click_enabled = {
				has_civil_war = yes 
				ROOT = { has_equipment = { mbt_equipment > 200 } }
			}
			send_fighter_equipment_civil_war_egy_click_enabled = {
				has_civil_war = yes 
				ROOT = { has_equipment = { jet_multirole_equipment > 50 } }
			} 
		}

	}
}


